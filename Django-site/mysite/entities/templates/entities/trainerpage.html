{% extends "pokemon/headers.html" %}
{% load staticfiles %}
{% block tabname %}Trainer Page - {{entity.EntityName}}{% endblock %}

{% block content %}
{% if entity %}


<div class="container-fluid">
    <form class="form-horizontal" action="{% url 'Entities:UpdateTrainerDetails' entity.EntityId %}" method="Post" enctype="multipart/form-data">
        {% csrf_token %}
        <h1>{{ entity.EntityName }}</h1>
        <h4>"{{ entity.CatchPhrase }}"</h4>
        <a id="close-open-edit" class="btn btn-secondary btn-lg btn-block">Edit</a>
        <script src="{% static '\entities\js\EditTest.js' %}"></script>
        {% for header in EntityHeaders %}
        {% if header.RowNumber == '-1' %}
            <input type="hidden" name="{{header.ColumnName}}" id="header{{ forloop.counter }}" value="{% if header.ColumnName == 'DMName' %}Sagi{% else %}{{header.ColumnValue}}{% endif %}">
        {% else %}
            <div class="col-md-{{ header.ColumnWidth }}">
                <div class="panel panel-info">
                    <div class="panel-heading">{{ header.ColumnDisplayName }}</div>
                    <input type="{{header.InputType}}" id="{{header.ColumnName}}" name="{{header.ColumnName}}" class="form-control" value="{{header.ColumnValue}}" {% if not header.AllowEditing == '1' %} readonly {% endif %}></input>
                </div>
            </div>
        {% endif %}
        {% endfor %}

        <input type="submit" class="btn btn-secondary btn-lg btn-block" value="Update Details"/>
    </form>
</div>

    {% if WasUpdated == 'Yes' %}
    <div class="panel panel-default">
        <h5 class="text-success">Trainer's details have been updated successfully.</h5>
    </div>
    {% endif %}


    <div class="panel panel-default"></div>


    <div class="container">
            <button type="button" class="btn btn-success" data-toggle="modal" data-target="#CreatePokemon">Create a new Pokemon</button>
        </div>
        <div class="modal fade" id="CreatePokemon">
            <div class="modal-dialog">
                <div class="modle-content" style="background-color:white">

                    <!--- Header --->
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h3 class="modal-title">Create a new Pokemon</h3>
                    </div>

                    <!--- Body --->
                    <div class="modal-body">
                        <form role="form" action="{% url 'Entities:CreateNewPokemon' 'Sagi' entity.EntityId entity.EntityName %}" method="Post" enctype="multipart/form-data">
                            {% csrf_token %}
                            <div class="panel-heading">Pokemon Species</div>
                            <input type="text" id="Species" name="Species" class="form-control" value="Pikachu"></input>
                            <div class="panel-heading">Pokemon NickName</div>
                            <input type="text" id="PokemonNickName" name="PokemonNickName" class="form-control" value="Test Pokemon"></input>
                            <div class="panel-heading">Pokemon Gender</div>
                            <input type="text" id="Gender" name="Gender" class="form-control" value="Male"></input>
                            <div class="panel-heading">Pokemon Nature</div>
                            <input type="text" id="Nature" name="Nature" class="form-control" value="Timid"></input>
                            <div class="panel-heading">Starting Level</div>
                            <input type="number" id="StartingLevel" name="StartingLevel" class="form-control" value="1"></input>
                            <!--<div class="panel-heading">Is Shiny?</div>-->
                            <div class="checkbox">
                              <label><input type="checkbox" value="IsShiny">Is Shiny?</label>
                            </div>
                            <div class="panel-heading">Move 1</div>
                            <input type="text" id="Move1" name="Move1" class="form-control" value="da"></input>
                            <div class="panel-heading">Move 2</div>
                            <input type="text" id="Move2" name="Move2" class="form-control" value="asd"></input>
                            <div class="panel-heading">Move 3</div>
                            <input type="text" id="Move3" name="Move3" class="form-control" value="asfa"></input>
                            <div class="panel-heading">Move 4</div>
                            <input type="text" id="Move4" name="Move4" class="form-control" value="agas"></input>
                            <div class="panel-heading">AdditionalTrainerNotes</div>
                            <input type="text" id="AdditionalTrainerNotes" name="AdditionalTrainerNotes" class="form-control" value="Additional Trainer Notes"></input>
                            <div class="modal-footer">
                                <input type="submit" class="btn btn-primary btn-block" value="Submit"/>
                            </div>
                        </form>
                    </div>

                    <!--- Footer --->


                </div>
            </div>
        </div>


    <div class="container-fluid">
        <div class="panel panel-default">
            <h2>Pokemon on Belt:</h2>
            <form action="{% url 'Entities:TopSixRemove' entity.EntityId %}" method="Post">
                {% csrf_token %}
                {% for Pokemon in all_pokemon %}
                {% if Pokemon.IsOnBelt == True %}
                <div class="inputContainer">
                    <input type="radio" id="Pokemon{{ forloop.counter }}" name="Pokemon" value="{{ Pokemon.PokemonId }}"/>
                        <label for="Pokemon{{ forloop.counter }}">
                            <img src="http://pokemonforever.com/images/title_icons/pokeball.png"/>
                            <a href="{% url 'Entities:pokemonpage' entity.EntityId Pokemon.PokemonId %}">
                                <img src="http://www.pokestadium.com/sprites/xy/{{ Pokemon.Species|lower }}.gif" alt="({{ Pokemon.Species }}"/>
                            </a>
                            {{ Pokemon.PokemonNickName }} ({{ Pokemon.Species }} - Level {{ Pokemon.CurrentLevel }})
                         </label>

                </div>
                {% endif %}
                {% endfor %}
                <input type="submit" class="btn btn-primary btn-lg" value="Remove From belt"/>
            </form>
        </div>
        <div class="panel panel-default">
            <h2>Pokemon at Professors Oak's <strike>slaughterhouse</strike> happy-ranch :</h2>
            <form action="{% url 'Entities:TopSix' entity.EntityId %}" method="Post">
                <ul class="list-group">
                {% csrf_token %}
                {% for Pokemon in all_pokemon %}
                {% if Pokemon.IsOnBelt == False %}
                    <li class="list-group-item">
                    <div>
                    <input type="radio" id="Pokemon{{ forloop.counter }}" name="Pokemon" value="{{ Pokemon.PokemonId }}"/>
                        <img src="http://www.pokestadium.com/sprites/xy/{{ Pokemon.Species|lower }}.gif" />

                                <div><h4><b>{{ Pokemon.PokemonNickName }}</b></h4></div>
                                <div><h5><b>{{ Pokemon.Species }}</b> - Level {{ Pokemon.CurrentLevel }}</h5></input>

                        <!--<label for="Pokemon{{ forloop.counter }}">

                            {{ Pokemon.PokemonNickName }} ({{ Pokemon.Species }} - Level {{ Pokemon.CurrentLevel }})
                        </label><br>-->
                    {% endif %}
                    {% endfor %}
                    <input type="submit" class="btn btn-primary btn-lg" value="Add to belt"/>
                    </div>
                    </li>
                </ul>
            </form>
        </div>
    </div>
</div>

{% else %}
	<h3>Entity does not exist.<br>Are you a moron??</h3>
{% endif %}


{% endblock %}